<?php 

// echo "Current URL: " . $_SERVER['REQUEST_URI'];

// Name des Admins aus der Datenbank abfragen
$userdaten = false;

if (isset($_SESSION['user_id'])) {
	$query = "SELECT * FROM `Administrators` WHERE `ID` = :id";
	$statement = $db->prepare( $query );
	$statement->execute( array( 'id' => $_SESSION['user_id']) );
	$userdaten = $statement->fetch( PDO::FETCH_ASSOC );
}


?>

<aside class="sidebar">

	<a class="sidebar__logo light-font" href="cms_dashboard.php">id<span class="accent-color">:</span>Admin</a>

	<nav class="sidebar__nav">
		<ul class="sidebar__list">
			
		<li class="sidebar__item">
				<a href="../cms_dashboard.php" 
				class="<?= urlIs('/cms_dashboard.php') ? 'sidebar__link sidebar__link--active' : 'sidebar__link' ?>">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
						<path
							d="M21.75 4.69V8.57C21.7516 8.88944 21.6896 9.20601 21.5677 9.50129C21.4458 9.79657 21.2665 10.0647 21.04 10.29C20.5812 10.7418 19.964 10.9966 19.32 11H4.68002C4.36054 11.0013 4.04396 10.9394 3.74854 10.8177C3.45312 10.6961 3.18471 10.5171 2.9588 10.2912C2.73289 10.0653 2.55395 9.7969 2.4323 9.50148C2.31065 9.20607 2.2487 8.88948 2.25002 8.57V4.69C2.25002 4.0446 2.50571 3.42549 2.96114 2.96819C3.41657 2.51088 4.03463 2.25265 4.68002 2.25H19.32C19.9661 2.25283 20.5846 2.51176 21.04 2.97C21.2665 3.19527 21.446 3.46335 21.5679 3.75865C21.6898 4.05394 21.7517 4.37054 21.75 4.69ZM11 15.43V19.32C11.0013 19.6395 10.9394 19.9561 10.8177 20.2515C10.6961 20.5469 10.5171 20.8153 10.2912 21.0412C10.0653 21.2671 9.79692 21.4461 9.5015 21.5677C9.20609 21.6894 8.8895 21.7513 8.57002 21.75H4.68002C4.36054 21.7513 4.04396 21.6894 3.74854 21.5677C3.45312 21.4461 3.18471 21.2671 2.9588 21.0412C2.73289 20.8153 2.55395 20.5469 2.4323 20.2515C2.31065 19.9561 2.2487 19.6395 2.25002 19.32V15.44C2.25002 14.7946 2.50571 14.1755 2.96114 13.7182C3.41657 13.2609 4.03463 13.0026 4.68002 13H8.57002C8.8884 13.0016 9.20333 13.0661 9.49676 13.1896C9.7902 13.3132 10.0564 13.4934 10.28 13.72C10.734 14.1742 10.9924 14.7879 11 15.43ZM21.75 15.44V19.32C21.7516 19.6394 21.6896 19.956 21.5677 20.2513C21.4458 20.5466 21.2665 20.8147 21.04 21.04C20.5812 21.4918 19.964 21.7466 19.32 21.75H15.43C14.7856 21.7487 14.1677 21.4937 13.71 21.04C13.4835 20.8147 13.3041 20.5466 13.1822 20.2513C13.0604 19.956 12.9984 19.6395 13 19.32V15.44C13.0052 14.7962 13.2626 14.1801 13.7169 13.7239C14.1712 13.2677 14.7862 13.0078 15.43 13H19.32C19.9661 13.0028 20.5846 13.2618 21.04 13.72C21.2666 13.9452 21.4461 14.2133 21.568 14.5086C21.6898 14.8039 21.7517 15.1205 21.75 15.44Z"
							fill="#F4F4F4" />
					</svg>
					<p>Dashboard</p>
				</a>
			</li>

			<li class="sidebar__item">
				<a href="../cms_clients.php"
					class="<?= urlIs('/cms_clients.php') || urlIs('/cms_clients_add.php') || urlIs('/cms_clients_edit.php') || urlIs('/cms_clients_delete.php') ? 'sidebar__link sidebar__link--active' : 'sidebar__link' ?>">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
						<path fill-rule="evenodd" clip-rule="evenodd"
							d="M8 4.0005C6.93913 4.0005 5.92172 4.42193 5.17157 5.17207C4.42143 5.92222 4 6.93964 4 8.0005C4 9.06137 4.42143 10.0788 5.17157 10.8289C5.92172 11.5791 6.93913 12.0005 8 12.0005C9.06087 12.0005 10.0783 11.5791 10.8284 10.8289C11.5786 10.0788 12 9.06137 12 8.0005C12 6.93964 11.5786 5.92222 10.8284 5.17207C10.0783 4.42193 9.06087 4.0005 8 4.0005ZM6 13.0005C4.93913 13.0005 3.92172 13.4219 3.17157 14.1721C2.42143 14.9222 2 15.9396 2 17.0005V18.0005C2 18.5309 2.21071 19.0396 2.58579 19.4147C2.96086 19.7898 3.46957 20.0005 4 20.0005H12C12.5304 20.0005 13.0391 19.7898 13.4142 19.4147C13.7893 19.0396 14 18.5309 14 18.0005V17.0005C14 15.9396 13.5786 14.9222 12.8284 14.1721C12.0783 13.4219 11.0609 13.0005 10 13.0005H6ZM13.25 10.9055C13.728 10.0455 14 9.0555 14 8.0005C14.0014 6.98379 13.7433 5.98355 13.25 5.0945C13.8178 4.55723 14.5306 4.19811 15.3003 4.06153C16.07 3.92495 16.8628 4.01689 17.5808 4.32599C18.2988 4.63509 18.9106 5.1478 19.3403 5.80075C19.7701 6.45371 19.9992 7.21829 19.9992 8C19.9992 8.78172 19.7701 9.5463 19.3403 10.1993C18.9106 10.8522 18.2988 11.3649 17.5808 11.674C16.8628 11.9831 16.07 12.0751 15.3003 11.9385C14.5306 11.8019 13.8178 11.4428 13.25 10.9055ZM15.466 20.0005C15.806 19.4125 16.001 18.7295 16.001 18.0005V17.0005C16.003 15.5242 15.4588 14.0994 14.473 13.0005H18C19.0609 13.0005 20.0783 13.4219 20.8284 14.1721C21.5786 14.9222 22 15.9396 22 17.0005V18.0005C22 18.5309 21.7893 19.0396 21.4142 19.4147C21.0391 19.7898 20.5304 20.0005 20 20.0005H15.466Z"
							fill="#F4F4F4" />
					</svg>
					<p>Kunden</p>
				</a>
			</li>

			<li class="sidebar__item">
				<a href="../cms_posts.php"
					class="<?= urlIs('/cms_posts.php') || urlIs('/cms_posts_add.php') || urlIs('/cms_posts_edit.php') || urlIs('/cms_posts_delete.php') ? 'sidebar__link sidebar__link--active' : 'sidebar__link' ?>">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
						<path
							d="M20 2H4C2.9 2 2 2.9 2 4V16C2 17.1 2.9 18 4 18H8V21C8 21.6 8.4 22 9 22H9.5C9.7 22 10 21.9 10.2 21.7L13.9 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM11 13H7V8.8L8.3 6H10.3L8.9 9H11V13ZM17 13H13V8.8L14.3 6H16.3L14.9 9H17V13Z"
							fill="#F4F4F4" />
					</svg>
					<p>Posts</p>
				</a>
			</li>

		</ul>
	</nav>

	<nav class="sidebar__nav">
		<ul class="sidebar__list">

			<li class="sidebar__item">

				<a href="#" class="sidebar__link">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
						<path
							d="M4 22C4 19.8783 4.84285 17.8434 6.34315 16.3431C7.84344 14.8429 9.87827 14 12 14C14.1217 14 16.1566 14.8429 17.6569 16.3431C19.1571 17.8434 20 19.8783 20 22H4ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13Z"
							fill="#F4F4F4" />
					</svg>
					<p>
						<?= !$userdaten ? 'Account' : $userdaten['name'];
						// Name des Admins in Accountname schreiben
						?>
					</p>
				</a>
			</li>

			<li class="sidebar__item">

				<a href="../actions/logout.php" class="sidebar__link">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
						<path
							d="M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.58L17 17L22 12L17 7ZM4 5H12V3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H12V19H4V5Z"
							fill="#F4F4F4" />
					</svg>
					<p>Logout</p>
				</a>

			</li>

		</ul>
	</nav>

</aside>